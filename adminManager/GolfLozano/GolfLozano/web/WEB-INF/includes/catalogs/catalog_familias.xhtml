<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    
    <h:form id="dtform">
              
        <p:remoteCommand name="onRowEdit" update=":dtform:familiastable"/>
        
        <p:dataTable id="familiastable" editable="true" var="familia" value="#{familiasView.familiaList}">
            <f:facet name="header">
                Familias
            </f:facet>
           
            <p:ajax event="rowEdit" listener="#{familiasView.onRowEdit}" oncomplete="onRowEdit()"/>
                        
            <p:column headerText="Nombre">
                <p:cellEditor>
                    <f:facet name="output"><h:outputLabel value="#{familia.nombre}"/></f:facet>
                    <f:facet name="input"><h:inputText value="#{familia.nombre}" style="width: 100%" maxlength="15" required="true" requiredMessage="Nombre familia es requerido."/></f:facet>
                </p:cellEditor>
            </p:column>
                     
            <p:column headerText="Activo">
                <p:cellEditor>
                    <f:facet name="output"><h:outputLabel value="#{familia.activo}"/></f:facet>
                    <f:facet name="input">
                        <h:selectOneMenu value="#{familia.activo}" style="width: 100%">
                            <f:selectItems value="#{familiasView.activeList}" var="active" itemLabel="#{active}" itemValue="#{active}">
                            </f:selectItems>
                        </h:selectOneMenu>
                    </f:facet>
                </p:cellEditor>
            </p:column>
            
            <p:column style="width: 32px">
                <p:rowEditor/>
            </p:column>
        </p:dataTable>   
</h:form>
    
</ui:composition>

